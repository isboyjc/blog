# 什么是暂时性死区？

## 题干

## 题解

暂时性死区（Temporal Dead Zone，简称 TDZ）指的是在 let 或 const 声明变量前，该变量是不能被访问的。在这个变量所在的作用域中，从变量声明到变量实际被执行赋值的这个阶段，就是 TDZ。在这个阶段，如果访问该变量，就会抛出一个 ReferenceError 异常。

TDZ 的出现是为了解决变量提升带来的问题，它可以让我们更早地发现变量未定义的错误。在使用 let 或 const 声明变量时，我们需要注意变量的作用域和 TDZ 的存在，避免在 TDZ 中访问变量。



当程序的控制流程在新的作用域（module function 或 block
作用域）进行实例化时，在此作用域中用let/const声明的变量会先在作用域中被创建出来，但因此时还未进行词法绑定，所以是不能被访问的，如果访问就会抛出错误。因此，在这运行流程进入作用域创建变量，到变量可以被访问之间的这一段时间，就称之为暂时死区。

造成该错误的主要原因是：ES6新增的let、const关键字声明的变量会产生块级作用域，如果变量在当前作用域中被创建之前被创建出来，由于此时还未完成语法绑定，如果我们访问或使用该变量，就会产生暂时性死区的问题，由此我们可以得知，从变量的创建到语法绑定之间这一段空间，我们就可以理解为‘暂时性死区’

let/const关键字未出现之前，typeof运算符是百分之百安全的，现在也会引发暂时性死区的发生，像import关键字引入公共模块、使用new class创建类的方式，也会引发暂时性死区，究其原因还是变量的声明先与使用

与上述关键字相反、var、function等关键字却不会受到TDZ（暂时性死区）的影响，如果在变量常见之前访问，返回结果为undefined
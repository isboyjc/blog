# JS å®ç°æ•°ç»„ filter æ–¹æ³•

## é¢˜å¹²

`JavaScript` æ•°ç»„åŸå‹æ–¹æ³• [filter](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/filter) ç”¨äºåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰é€šè¿‡æŒ‡å®šå‡½æ•°æµ‹è¯•çš„å…ƒç´ ã€‚

`filter` æ–¹æ³•ä½¿ç”¨æŒ‡å®šå‡½æ•°æ£€æµ‹æ•°ç»„ä¸­çš„å…ƒç´ ï¼šå¦‚æœå…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Œåˆ™å°†å…¶æ·»åŠ åˆ°æ–°æ•°ç»„ä¸­ã€‚å¦‚æœæ‰€æœ‰å…ƒç´ éƒ½ä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚

è¯­æ³•å¦‚ä¸‹ï¼š

```js
filter(callbackFn)
filter(callbackFn, thisArg)
```

- `callbackFn` -   å¿…é€‰ï¼Œæµ‹è¯•æ•°ç»„æ¯ä¸ªå…ƒç´ çš„å‡½æ•°ã€‚è¿” `true` è¡¨ç¤ºé€šè¿‡æµ‹è¯•ï¼Œä¿ç•™è¯¥å…ƒç´ ï¼Œ`false` åä¹‹ï¼Œä¸‰ä¸ªå‚æ•°ï¼š
  - `element` -    æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ 
  - `index` -      æ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å½“å‰å…ƒç´ çš„ç´¢å¼•
  - `array` -      è°ƒç”¨äº† `filter` çš„æ•°ç»„æœ¬èº«ã€‚

- `thisArg` -      å¯é€‰ï¼Œæ‰§è¡Œ `callbackFn` å‡½æ•°æ—¶è¢«ç”¨ä½œ `this` çš„å€¼

- è¿”å›å€¼ -      ä¸€ä¸ªæ–°çš„ã€ç”±é€šè¿‡æµ‹è¯•çš„å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æ•°ç»„å…ƒç´ é€šè¿‡æµ‹è¯•ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„ã€‚


### ğŸŒ°.01

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®ƒåˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰å¤§äºç­‰äº18çš„å…ƒç´ ï¼š

```js
let ages = [32, 33, 16, 40];
function checkAdult(age) {
    return age >= 18;
}

ages.filter(checkAdult); // [32, 33, 40]
```

è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`filter` æ–¹æ³•å¯¹ `ages` æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œ `checkAdult` å‡½æ•°ã€‚ç”±äºæ•°ç»„ä¸­æœ‰ä¸‰ä¸ªå…ƒç´ ï¼ˆ32ã€33 å’Œ 40ï¼‰å¤§äºç­‰äº 18ï¼Œæ‰€ä»¥è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«è¿™ä¸‰ä¸ªå…ƒç´ ã€‚



## é¢˜è§£

```js
Array.prototype.myFilter = function(callback, thisArg) {
  let result = [];
  for (let i = 0; i < this.length; i++) {
    if (callback.call(thisArg, this[i], i, this)) {
      result.push(this[i]);
    }
  }
  return result;
}

// æµ‹è¯•
let ages = [32, 33, 16, 40];
function checkAdult(age) {
    return age >= 18;
}
ages.myFilter(checkAdult); // [32, 33, 40]
```